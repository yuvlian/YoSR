open Cmdid
open Protocol
open Packet

let mission_ids = [
  1000101l; 1000111l; 1000112l; 1000113l; 1000114l;
  1000201l; 1000202l; 1000203l; 1000204l; 1000300l;
  1000301l; 1000302l; 1000303l; 1000304l; 1000400l;
  1000401l; 1000402l; 1000410l; 1000500l; 1000501l;
  1000502l; 1000503l; 1000504l; 1000505l; 1000510l;
  1000511l; 1010001l; 1010002l; 1010101l; 1010201l;
  1010202l; 1010203l; 1010204l; 1010205l; 1010206l;
  1010301l; 1010302l; 1010303l; 1010401l; 1010405l;
  1010402l; 1010403l; 1010500l; 1010501l; 1010502l;
  1010503l; 1010601l; 1010602l; 1010700l; 1010701l;
  1010801l; 1010802l; 1010901l; 1010902l; 1011001l;
  1011002l; 1011003l; 1011100l; 1011101l; 1011102l;
  1011103l; 1011201l; 1011202l; 1011301l; 1011400l;
  1011401l; 1011402l; 1011403l; 1011501l; 1011502l;
  1011503l; 1020101l; 1020201l; 1020302l; 1020301l;
  1020400l; 1020401l; 1020402l; 1020403l; 1020501l;
  1020601l; 1020701l; 1020702l; 1020801l; 1020901l;
  1021001l; 1021101l; 1021201l; 1021301l; 1021401l;
  1021501l; 1021601l; 2000001l; 2000002l; 2000003l;
  2000004l; 2000100l; 2000101l; 2000131l; 2000132l;
  2000133l; 2000110l; 2000111l; 2000301l; 2000103l;
  2000112l; 2000108l; 2000104l; 2000102l; 2000105l;
  2000106l; 2000107l; 2000313l; 2000314l; 2000109l;
  2000113l; 2000116l; 2000118l; 2000119l; 2000120l;
  2000122l; 2000302l; 2000303l; 2000304l; 2000305l;
  2000310l; 2000311l; 2000312l; 2000320l; 2000701l;
  2000702l; 2000703l; 2000704l; 2000705l; 2000706l;
  2000707l; 2010005l; 2010301l; 2010302l; 2011103l;
  2011104l; 2011409l; 2010401l; 2010402l; 2010405l;
  2010502l; 2010503l; 2010701l; 2010708l; 2010709l;
  2010720l; 2010730l; 2010731l; 2010732l; 2010733l;
  2010734l; 2010735l; 2010904l; 2011101l; 2011102l;
  2011105l; 2011301l; 2011302l; 2011303l; 2011501l;
  2011502l; 2010909l; 2010910l; 2011901l; 2011902l;
  2011903l; 2011904l; 2011905l; 2011906l; 2020301l;
  2020302l; 2020304l; 2020316l; 2020317l; 2020318l;
  2020319l; 2020401l; 2020402l; 2020403l; 2020404l;
  2020405l; 2020406l; 2020407l; 2020303l; 2020103l;
  2020104l; 2020105l; 2020106l; 2020107l; 2020108l;
  2020109l; 2020110l; 2020201l; 2020202l; 2020203l;
  2020204l; 2000201l; 2000202l; 2000203l; 2000204l;
  2000205l; 2000206l; 2000207l; 2000208l; 2000209l;
  2000211l; 2000212l; 2010500l; 2010501l; 2010705l;
  2010706l; 2010901l; 2010902l; 2010903l; 2010702l;
  2010703l; 2011400l; 2011401l; 2011406l; 2011402l;
  2011403l; 2011404l; 2011405l; 2011407l; 2011408l;
  2011410l; 2010905l; 2010906l; 2010907l; 2010908l;
  2010911l; 2010912l; 2020305l; 2020306l; 2020309l;
  2020307l; 2020308l; 2020701l; 2020702l; 2020313l;
  2020314l; 2020315l; 6020101l; 6020201l; 6020202l;
  2020801l; 2020802l; 2020901l; 2021601l; 2021602l;
  3000201l; 3000202l; 3000203l; 3000211l; 3000212l;
  3000213l; 3000301l; 3000302l; 3000303l; 3000522l;
  3000523l; 3000524l; 3000525l; 3000526l; 3000527l;
  3000601l; 3000602l; 3000603l; 3000604l; 3000701l;
  3000702l; 3000703l; 3000704l; 3000705l; 3000800l;
  3000801l; 3000802l; 3000803l; 3010102l; 3010103l;
  3010104l; 3010105l; 3010201l; 3010202l; 3010203l;
  3010204l; 3010205l; 3011011l; 3011012l; 3011013l;
  3011014l; 3011111l; 3011112l; 3011113l; 3011114l;
  3011201l; 3011202l; 3011203l; 3011204l; 3011205l;
  3011206l; 3011207l; 3011208l; 3011401l; 3011402l;
  3011403l; 3011404l; 3011405l; 3011406l; 3011407l;
  3011408l; 3011501l; 3011502l; 3011503l; 3011504l;
  3011505l; 3011601l; 3011602l; 3011603l; 3011604l;
  3011605l; 3011606l; 3011607l; 3011608l; 3011609l;
  3011610l; 3012001l; 4020101l; 4020102l; 4020103l;
  4020104l; 4020105l; 4020106l; 4020107l; 4020108l;
  4020109l; 4020110l; 4020111l; 4020112l; 4020113l;
  4020114l; 4010105l; 4010106l; 4010107l; 4010112l;
  4010113l; 4010131l; 4010115l; 4010116l; 4010121l;
  4010122l; 4010123l; 4010124l; 4010125l; 4010126l;
  4010127l; 4010128l; 4010133l; 4010134l; 4010135l;
  4010130l; 4010136l; 4010137l; 4015101l; 4015103l;
  4015102l; 4015202l; 4015203l; 4015204l; 4015301l;
  4015302l; 4015303l; 4030001l; 4030002l; 4030003l;
  4030004l; 4030006l; 4030007l; 4030009l; 4030010l;
  4040001l; 4040002l; 4040003l; 4040004l; 4040005l;
  4040006l; 4040052l; 4040007l; 4040008l; 4040051l;
  4040009l; 4040010l; 4040011l; 4040012l; 4040053l;
  4040014l; 4040015l; 4040017l; 4040018l; 4040019l;
  4040020l; 4040021l; 4040022l; 4040023l; 4040024l;
  4040100l; 4040189l; 4040190l; 4040101l; 4040151l;
  4040154l; 4040102l; 4040103l; 4040153l; 4040104l;
  4040152l; 4040105l; 4040106l; 4040155l; 4040107l;
  4040108l; 4040109l; 4040156l; 4040157l; 4040110l;
  4040114l; 4040115l; 4040158l; 4040159l; 4040160l;
  4040161l; 4040162l; 4040116l; 4040169l; 4040163l;
  4040164l; 4040165l; 4040166l; 4040167l; 4040168l;
  4040170l; 4040171l; 4040172l; 4040173l; 4040174l;
  4040175l; 4040176l; 4040177l; 4040178l; 4040179l;
  4040180l; 4040181l; 4040182l; 4040183l; 4040184l;
  4040185l; 4040186l; 4040117l; 4040118l; 4040119l;
  4040187l; 4040120l; 4040188l; 4040121l; 4040122l;
  4040123l; 4040124l; 4040125l; 4040126l; 4040127l;
  4040128l; 4040129l; 4040130l; 4040201l; 4040202l;
  4040203l; 4040204l; 4040205l; 4040206l; 4040207l;
  4040208l; 4040290l; 4040209l; 4040210l; 4040211l;
  4040212l; 4040213l; 4040214l; 4040215l; 4040216l;
  4040217l; 4040218l; 4040219l; 4040220l; 4040221l;
  4040222l; 4040223l; 4040224l; 4040225l; 4040226l;
  4040227l; 4040228l; 4040229l; 4040230l; 4040231l;
  4040240l; 4040241l; 4040242l; 4040244l; 4040245l;
  4040246l; 4040247l; 4050005l; 4050007l; 4050008l;
  4050009l; 4050010l; 4050011l; 4050012l; 4050013l;
  4050014l; 4050015l; 4050016l; 4050017l; 4050018l;
  4050019l; 4050020l; 4050021l; 4050022l; 4050023l;
  4050024l; 4050025l; 4050026l; 4050027l; 4050028l;
  4050029l; 4050030l; 4050031l; 4050032l; 4050033l;
  4050034l; 4050035l; 4050036l; 4050037l; 4072121l;
  4072122l; 4072123l; 4071311l; 4071312l; 4071313l;
  4071320l; 4071321l; 4071322l; 4122100l; 4122101l;
  4122102l; 4122103l; 4081311l; 4081312l; 4081313l;
  4081314l; 4081315l; 4081316l; 4081317l; 4081318l;
  8000001l; 8000002l; 8000101l; 8000102l; 8000104l;
  8000105l; 8000131l; 8000132l; 8000133l; 8000134l;
  8000135l; 8000136l; 8000137l; 8000138l; 8000139l;
  8000151l; 8000152l; 8000153l; 8000154l; 8000155l;
  8000156l; 8000157l; 8000158l; 8000159l; 8000161l;
  8000162l; 8000170l; 8000171l; 8000172l; 8000173l;
  8000174l; 8000175l; 8000177l; 8000178l; 8000180l;
  8000181l; 8000183l; 8000182l; 8000185l; 8000184l;
  8000186l; 8000187l; 8000188l; 8000189l; 8000201l;
  8000202l; 8000203l; 8000204l; 8001201l; 8001202l;
  8001203l; 8001205l; 8001206l; 8001207l; 8001208l;
  8001209l; 8001211l; 8001212l; 8001213l; 8001215l;
  8001216l; 8001219l; 8001220l; 8001223l; 8001224l;
  8001225l; 8001226l; 8001227l; 8001204l; 8001210l;
  8001214l; 8001217l; 8001218l; 8001221l; 8001222l;
  8001241l; 8001242l; 8001243l; 8001244l; 8001251l;
  8001252l; 8001253l; 8001254l; 8001255l; 8001261l;
  8001262l; 8001263l; 8001264l; 8001265l; 8001266l;
  8001267l; 8001268l; 8011401l; 8002201l; 8002202l;
  8002211l; 8002212l; 8002213l; 8002214l; 8002221l;
  8002222l; 8002231l; 8002232l; 8002233l; 8002234l;
  8012101l; 8012102l; 8012103l; 8012104l; 8012105l;
  8012106l; 8012107l; 8012401l; 9999920l; 1021702l;
  1021703l; 1030101l; 1030102l; 1030201l; 1030202l;
  1030301l; 1030302l; 1030303l; 1030304l; 1030401l;
  1030402l; 1030403l; 1030501l; 1030601l; 1030701l;
  1030702l; 1030703l; 1030801l; 1030901l; 1031001l;
  1031002l; 1031101l; 1031201l; 1031301l; 1031401l;
  1031501l; 1031601l; 1031701l; 1031801l; 1031901l;
  1032001l; 1032101l; 1032201l; 1032301l; 1032302l;
  1032401l; 1032501l; 1032601l; 1032602l; 1032701l;
  1032702l; 1032703l; 1032704l; 1032705l; 1032801l;
  1032802l; 1032901l; 1032902l; 1033001l; 1033101l;
  1033102l; 1034101l; 1034103l; 1034104l; 1034105l;
  1034107l; 1034108l; 1034109l; 1034110l; 2000801l;
  2000802l; 2000803l; 2000901l; 2000902l; 2000903l;
  2001001l; 2001002l; 2001003l; 2011601l; 2011701l;
  2011801l; 2020111l; 2020205l; 2010201l; 2010202l;
  2010203l; 2010204l; 2010205l; 2010206l; 2011411l;
  2011412l; 2011413l; 2020703l; 2020501l; 2020502l;
  2020503l; 2020504l; 2020505l; 2020506l; 2020507l;
  2020601l; 2020602l; 2020603l; 2020604l; 2021001l;
  2021002l; 2021009l; 2021701l; 2021702l; 2021703l;
  2021704l; 2021705l; 2021801l; 2021802l; 2021803l;
  2030001l; 2030002l; 2030003l; 2030101l; 2030102l;
  2030201l; 2030202l; 2030203l; 2030301l; 2030302l;
  2030401l; 2030402l; 2030501l; 2030602l; 2030603l;
  2030601l; 3020101l; 3020102l; 3020103l; 3020104l;
  3020105l; 3020106l; 3020107l; 3020108l; 3020201l;
  3020202l; 3020203l; 3020204l; 3020205l; 3020206l;
  4010138l; 4010140l; 4010141l; 4015401l; 4015402l;
  4015403l; 4015503l; 4015502l; 4140101l; 4140102l;
  4140103l; 4140104l; 4140105l; 4140106l; 4140107l;
  4140108l; 4140109l; 4140110l; 4140111l; 4140112l;
  4140113l; 4140114l; 4140115l; 4140116l; 4140117l;
  4140118l; 4140119l; 4140120l; 4140121l; 4140122l;
  4140123l; 4040248l; 4040249l; 4040250l; 4040251l;
  4040252l; 4040253l; 4040254l; 4040255l; 4040256l;
  4040257l; 4040258l; 4040259l; 4040260l; 4040261l;
  4040262l; 4040263l; 4040264l; 4240301l; 4240302l;
  4240304l; 4240305l; 4240306l; 4240307l; 4240308l;
  4240309l; 4240310l; 4240311l; 4240312l; 4240313l;
  4240314l; 4240316l; 4240317l; 4240320l; 4240321l;
  4240322l; 4240323l; 4240401l; 4240402l; 4240403l;
  4240404l; 4240405l; 4340101l; 4340102l; 4340103l;
  4340104l; 4340105l; 4340106l; 4340107l; 4340108l;
  4340109l; 4340110l; 4340111l; 4340112l; 4340113l;
  4340114l; 4340115l; 4340116l; 4340117l; 4340118l;
  4340119l; 4340120l; 4340121l; 4340122l; 4340150l;
  4340151l; 4340152l; 4340153l; 4340154l; 4340155l;
  4340156l; 4340157l; 4340158l; 4340159l; 4340160l;
  4340161l; 4340162l; 4340163l; 4340164l; 4340165l;
  4340166l; 4340167l; 4340168l; 4340169l; 4540101l;
  4540102l; 4540103l; 4540104l; 4540105l; 4540106l;
  4540107l; 4540111l; 4540112l; 4540113l; 4540114l;
  4540201l; 4540202l; 4540203l; 4540204l; 4540205l;
  4540206l; 4540211l; 4540212l; 4540213l; 4540214l;
  4540301l; 4540302l; 4540303l; 4540304l; 4540305l;
  4540306l; 4540307l; 4540311l; 4540312l; 4540313l;
  4540314l; 4540315l; 4540401l; 4540402l; 4540403l;
  4540404l; 4540405l; 4540406l; 4540407l; 4540408l;
  4540411l; 4540412l; 4540413l; 4540414l; 4540501l;
  4540502l; 4040300l; 4040302l; 4040303l; 4040304l;
  4040305l; 4040306l; 4040307l; 4040308l; 4040309l;
  4040310l; 4040311l; 4040312l; 4040313l; 4040314l;
  4040315l; 4040316l; 4040317l; 4040318l; 4040319l;
  4040320l; 4040321l; 4040322l; 4040323l; 4040324l;
  4040325l; 4040326l; 4040327l; 4040328l; 4040329l;
  4040330l; 4040331l; 4040332l; 4040333l; 4040334l;
  4040335l; 4040336l; 4040337l; 4040338l; 4040339l;
  4040340l; 4040341l; 4040342l; 4040343l; 4040344l;
  4040345l; 4040346l; 4040347l; 4040348l; 4040349l;
  4040350l; 4050038l; 4050039l; 4072011l; 4072012l;
  4072013l; 4072021l; 4072022l; 4072023l; 4072024l;
  4070011l; 4070012l; 4070013l; 5030500l; 8002100l;
  8002101l; 8002102l; 8002106l; 8002103l; 8002104l;
  8002105l; 8002107l; 8003101l; 8003102l; 8003201l;
  8003202l; 8003213l; 8003214l; 8003204l; 8003220l;
  8003217l; 8003203l; 8003215l; 8003205l; 8003206l;
  8003207l; 8003221l; 8003218l; 8003208l; 8003216l;
  8003209l; 8003210l; 8003222l; 8003219l; 8003211l;
  8003212l; 8003240l; 8003241l; 8003242l; 8003243l;
  8003244l; 8003245l; 8003246l; 8003247l; 8003248l;
  8003249l; 8003250l; 8003251l; 8003260l; 8003261l;
  8003262l; 8003263l; 8003264l; 8003265l; 8003266l;
  8003267l; 8003268l; 8003269l; 8003278l; 8003279l;
  8003280l; 8003281l; 8003282l; 8003283l; 8003284l;
  8013101l; 8013102l; 8013103l; 8013104l; 8013105l;
  8013106l; 8013107l; 8013108l; 8013109l; 8013110l;
  8014101l; 8014102l; 8014103l; 8014104l; 8014105l;
  8014106l; 8014108l; 8014112l; 8014121l; 8014122l;
  8014123l; 8014124l; 8014125l; 8014126l; 8014127l;
  8014128l; 8014129l; 8014130l; 8014131l; 8014132l;
  8014133l; 8014134l; 8014135l; 8014136l; 8014137l;
  8014138l; 8014139l; 8014140l; 8014141l; 8014142l;
  8014143l; 8014144l; 8014145l; 8014146l; 8014147l;
  8014148l; 8014149l; 8014150l; 8014161l; 8014162l;
  8014163l; 8014164l; 8014165l; 8014166l; 8014167l;
  8014168l; 8015191l; 8015101l; 8015111l; 8015192l;
  8015102l; 8015112l; 8015193l; 8015103l; 8015113l;
  8015123l; 8015194l; 8015104l; 8015114l; 8015195l;
  8015196l; 8015197l; 8015198l; 8015150l; 8015151l;
  8015152l; 8015153l; 8015154l; 8015155l; 8015156l;
  8015157l; 8015158l; 8015159l; 8015161l; 8015162l;
  8015163l; 8015164l; 8015165l; 8015171l; 8015172l;
  8015173l; 8015180l; 8015201l; 8015202l; 8015203l;
  8016101l; 8016102l; 8016103l; 8016104l; 8016105l;
  8016106l; 8016201l; 8016202l; 8016203l; 8016204l;
  8016205l; 8016206l; 8016207l; 8016208l; 8016209l;
  8016210l; 8016211l; 8016212l; 8016213l; 8016301l;
  8016302l; 8016303l; 8016304l; 8016305l; 8017101l;
  8017102l; 8020101l; 8020102l; 8020103l; 8020104l;
  8020105l; 8020106l; 8020107l; 8020108l; 8020201l;
  8020202l; 8020203l; 8020204l; 8020205l; 8020206l;
  8020207l; 8020208l; 8020209l; 8020210l; 8020211l;
  8020212l; 8020213l; 8020214l; 8020215l; 8020216l;
  8020217l; 8020218l; 8020219l; 8020220l; 8020221l;
  8020222l; 8020223l; 8020224l; 8020231l; 8020232l;
  8020233l; 8020234l; 8020236l; 8020300l; 8020301l;
  8020302l; 8020303l; 8020304l; 8020305l; 8021100l;
  8021101l; 8021102l; 8021103l; 8021104l; 8021105l;
  8021106l; 8021121l; 8021122l; 8021123l; 8021124l;
  8021130l; 8021131l; 8021132l; 8021201l; 8021202l;
  8021203l; 8021301l; 8021302l; 8021303l; 8021401l;
  8021402l; 8021403l; 8021404l; 8021501l; 8021502l;
  8021503l; 8021504l; 8021505l; 8021506l; 8022101l;
  8022102l; 8022103l; 8022104l; 8022105l; 8022106l;
  8022107l; 8022108l; 8022109l; 8022110l; 8022111l;
  8022112l; 8022113l; 8022114l; 8022115l; 8022120l;
  8022121l; 8022122l; 8022123l; 8022124l; 8022125l;
  8022126l; 8022127l; 8022201l; 8022202l; 8022301l;
  8022302l; 8022401l; 8022402l; 8023101l; 8023102l;
  8023103l; 8023104l; 8023105l; 8023111l; 8023201l;
  8023202l; 8023203l; 8023301l; 8023401l; 8023501l;
  8023601l;
]

let on_get_mission_status pk =
  let dec = Pbrt.Decoder.of_string pk.body in
  let req = decode_pb_get_mission_status_cs_req dec in

  let event_mstatus = List.map (fun id ->
    default_mission
      ~id:id
      ~progress:1l
      ~status:Mission_finish
      ()
    ) req.main_mission_id_list
  in

  let sub_mstatus = List.map (fun id ->
    default_mission
      ~id:id
      ~progress:1l
      ~status:Mission_finish
      ()
    ) req.sub_mission_id_list
  in

  let rsp = default_get_mission_status_sc_rsp
    ~retcode:0l
    ~mission_event_status_list:event_mstatus
    ~sub_mission_status_list:sub_mstatus
    ~finished_main_mission_id_list:mission_ids
    ()
  in

  pack (*v*) cmd_get_mission_status_sc_rsp (*v*) encode_pb_get_mission_status_sc_rsp (*v*) rsp